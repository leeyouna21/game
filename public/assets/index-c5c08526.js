(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))f(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&f(l)}).observe(document,{childList:!0,subtree:!0});function u(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function f(s){if(s.ep)return;s.ep=!0;const i=u(s);fetch(s.href,i)}})();function P(){$(".icon1").draggable({containment:".icon___box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse01.png")},drag:function(){$(".info").html("현재 <em style='color:red'>빨간색</em> 폴더를 드래그 하고 있습니다."),$("#header").addClass("red")},stop:function(){setTimeout(t,3e3),setTimeout(classRemove,3e3)}}),$(".icon2").draggable({containment:".icon___box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse02.png")},drag:function(){$(".info").html("현재 <em style='color:blue'>파란색</em> 폴더를 드래그 하고 있습니다."),$("#header").addClass("blue")},stop:function(){setTimeout(t,3e3),setTimeout(classRemove,3e3)}}),$(".icon3").draggable({containment:".icon___box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse03.png")},drag:function(){$(".info").html("현재 <em style='color:green'>초록색</em> 폴더를 드래그 하고 있습니다."),$("#header").addClass("green")},stop:function(){setTimeout(t,3e3),setTimeout(classRemove,3e3)}}),$(".icon4").draggable({containment:".icon___box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse04.png")},drag:function(){$(".info").html("현재 <em style='color:yellow'>노란색</em> 폴더를 드래그 하고 있습니다."),$("#header").addClass("yellow")},stop:function(){setTimeout(t,3e3),setTimeout(classRemove,3e3)}}),$(".music__wrap").draggable({scroll:!1}),window.onload=function(){window.addEventListener("mousemove",u=>{gsap.to(".cursor",{duration:0,left:u.pageX-5,top:u.pageY-10})})};let o=document.querySelector(".time");setInterval(function(){o.innerHTML=new Date().toLocaleString()},1e3);const t=()=>{let u=navigator.userAgent.toLowerCase(),f=screen.width,s=screen.height,i=document.querySelector(".info");u.indexOf("windows")>=0?i.innerHTML="현재 윈도우를 사용하고 있으며, 화면 크기는 "+f+"x"+s+" 입니다.":u.indexOf("macintosh")>=0?i.innerHTML="현재 맥을 사용하고 있으며, 화면 크기는 "+f+"x"+s+" 입니다.":u.indexOf("iphone")>=0?i.innerHTML="현재 아이폰을 사용하고 있으며, 화면 크기는 "+f+"x"+s+" 입니다.":u.indexOf("android")>=0&&(i.innerHTML="현재 안드로이드 폰을 사용하고 있으며, 화면 크기는 "+f+"x"+s+" 입니다.")};t()}function C(){const o=[{name:"1. 바닷가",artist:"darin",img:"music__view001",audio:"music_audio01"},{name:"2. wish you are gay",artist:"Billie Eilish",img:"music__view002",audio:"music_audio02"},{name:"3. 바닷가",artist:"darin",img:"music__view003",audio:"music_audio03"},{name:"4. 바닷가",artist:"darin",img:"music__view004",audio:"music_audio04"},{name:"5. 바닷가",artist:"darin",img:"music__view005",audio:"music_audio05"},{name:"6. 바닷가",artist:"darin",img:"music__view006",audio:"music_audio06"},{name:"7. 바닷가",artist:"darin",img:"music__view007",audio:"music_audio07"},{name:"8. 바닷가",artist:"darin",img:"music__view008",audio:"music_audio08"},{name:"9. 바닷가",artist:"darin",img:"music__view009",audio:"music_audio09"},{name:"10. 바닷가",artist:"darin",img:"music__view010",audio:"music_audio10"}],t=document.querySelector(".music__wrap"),u=t.querySelector(".music__control .title h3"),f=t.querySelector(".music__control .title p"),s=t.querySelector(".music__view .image img"),i=t.querySelector("#main-audio"),l=t.querySelector("#control-play"),v=t.querySelector("#control-prev"),g=t.querySelector("#control-next"),x=t.querySelector(".progress"),T=t.querySelector(".progress .bar"),w=t.querySelector(".progress .timer .current"),I=t.querySelector(".progress .timer .duration"),_=t.querySelector("#control-repeat"),q=t.querySelector("#control-list"),E=t.querySelector(".music__list"),L=t.querySelector(".music__list ul"),N=t.querySelector(".music__list h3 .close");let a=2;const M=e=>{u.innerHTML=o[e-1].name,f.innerHTML=o[e-1].artist,s.src=`images /${o[e-1].img}.png`,s.alt=o[e-1].name,i.src=`audio/${o[e-1].audio}.mp3`},r=()=>{t.classList.add("paused"),l.setAttribute("title","정지"),l.setAttribute("class","stop"),i.play()},c=()=>{t.classList.remove("paused"),l.setAttribute("title","재생"),l.setAttribute("class","play"),i.pause()},y=()=>{a==1?a=o.length:a--,console.log(a),M(a),r(),p()},d=()=>{a==o.length?a=1:a++,M(a),r(),p()};i.addEventListener("timeupdate",e=>{const n=e.target.currentTime,m=e.target.duration;let h=n/m*100;T.style.width=`${h}%`,i.addEventListener("loadeddata",()=>{let b=i.duration,O=Math.floor(b/60),B=Math.floor(b%60);B<10&&(B=`0${B}`),I.innerText=`${O}:${B}`});let S=Math.floor(n/60),A=Math.floor(n%60);A<10&&(A=`0${A}`),w.innerText=`${S}:${A}`}),x.addEventListener("click",e=>{let n=x.clientWidth,m=e.offsetX,h=i.duration;i.currentTime=m/n*h,console.log(h)}),_.addEventListener("click",()=>{switch(_.getAttribute("class")){case"repeat":_.setAttribute("class","repeat_one"),_.setAttribute("title","한 곡 반복");break;case"repeat_one":_.setAttribute("class","shuffle"),_.setAttribute("title","랜덤 반복");break;case"shuffle":_.setAttribute("class","repeat"),_.setAttribute("title","전체 반복");break}}),i.addEventListener("ended",()=>{switch(_.getAttribute("class")){case"repeat":d();break;case"repeat_one":r();break;case"shuffle":let n=Math.floor(Math.random()*o.length+1);do n=Math.floor(Math.random()*o.length+1);while(a==n);a=n,M(n),r();break}p()}),l.addEventListener("click",()=>{t.classList.contains("paused")?c():r()}),v.addEventListener("click",()=>{y()}),g.addEventListener("click",()=>{d()}),q.addEventListener("click",()=>{E.classList.add("show")}),N.addEventListener("click",()=>{E.classList.remove("show")});for(let e=0;e<o.length;e++){let n=`
        <li data-index="${e+1}">
        
            <strong>${o[e].name}</strong>
            <em>${o[e].artist}</em>
            <audio class="${o[e].audio}" src="audio/${o[e].audio}.mp3"></audio>
            <span class="audio-duration" id="${o[e].audio}">2:55</span>
        </li>
        `;L.insertAdjacentHTML("beforeend",n);let m=L.querySelector(`#${o[e].audio}`),h=L.querySelector(`.${o[e].audio}`);h.addEventListener("loadeddata",()=>{let S=h.duration,A=Math.floor(S/60),b=Math.floor(S%60);b<10&&(b=`0${b}`),m.innerText=`${A}:${b}`,m.setAttribute("data-duration",`${A}:${b}`)})}function p(){const e=L.querySelectorAll("li");for(let n=0;n<e.length;n++){let m=e[n].querySelector(".audio-duration");if(e[n].addEventListener("click",function(){k(this)}),e[n].classList.contains("playing")){e[n].classList.remove("playing");let h=m.getAttribute("data-duration");m.innerText=h}e[n].getAttribute("data-index")==a&&(e[n].classList.add("playing"),m.innerText="재생중")}}p();function k(e){a=e.getAttribute("data-index"),M(a),r(),p()}window.addEventListener("load",()=>{M(a),p()})}function R(){const o=document.querySelector(".tetris__play .view ul"),t=20,u=12,f={Tmino:[[[2,1],[0,1],[1,0],[1,1]],[[1,2],[0,1],[1,0],[1,1]],[[1,2],[0,1],[2,1],[1,1]],[[2,1],[1,2],[1,0],[1,1]]],Imino:[[[0,0],[0,1],[0,2],[0,3]],[[0,0],[1,0],[2,0],[3,0]],[[0,0],[0,1],[0,2],[0,3]],[[0,0],[1,0],[2,0],[3,0]]],Omino:[[[0,0],[0,1],[1,0],[1,1]],[[0,0],[0,1],[1,0],[1,1]],[[0,0],[0,1],[1,0],[1,1]],[[0,0],[0,1],[1,0],[1,1]]],Zmino:[[[0,0],[1,0],[1,1],[2,1]],[[1,0],[0,1],[1,1],[0,2]],[[0,0],[1,0],[1,1],[2,1]],[[1,0],[0,1],[1,1],[0,2]]],Smino:[[[1,0],[2,0],[0,1],[1,1]],[[0,0],[0,1],[1,1],[1,2]],[[1,0],[2,0],[0,1],[1,1]],[[0,0],[0,1],[1,1],[1,2]]],Jmino:[[[0,2],[1,0],[1,1],[1,2]],[[0,0],[0,1],[1,1],[2,1]],[[0,0],[1,0],[0,1],[0,2]],[[0,0],[1,0],[2,0],[2,1]]],Lmino:[[[0,0],[0,1],[0,2],[1,2]],[[0,0],[1,0],[2,0],[0,1]],[[0,0],[1,0],[1,1],[1,2]],[[0,1],[1,1],[2,0],[2,1]]]};let s=0,i=500,l,v;const g={type:"",direction:0,top:0,left:4};function x(){v={...g},T(),q(),w(),M()}function T(){const c=o.childNodes.length;if(c<t){const y=t-c;for(let d=0;d<y;d++){const p=document.createElement("li"),k=document.createElement("ul");for(let e=0;e<u;e++){const n=document.createElement("li");k.prepend(n)}p.prepend(k),o.prepend(p)}}else if(c>t){const y=c-t;for(let d=0;d<y;d++)o.lastChild.remove()}}function w(r=""){const{type:c,direction:y,top:d,left:p}=v;document.querySelectorAll(".moving").forEach(e=>{e.classList.remove(c,"moving")}),f[c][y].some(e=>{const n=e[0]+p,m=e[1]+d,h=o.childNodes[m]?o.childNodes[m].childNodes[0].childNodes[n]:null;if(E(h))h.classList.add(c,"moving");else return v={...g},setTimeout(()=>{w(),r==="top"&&I()}),!0}),g.left=p,g.top=d,g.direction=y}function I(){document.querySelectorAll(".moving").forEach(c=>{c.classList.remove("moving"),c.classList.add("seized")}),_()}function _(){o.childNodes.forEach(c=>{let y=!0;c.children[0].childNodes.forEach(d=>{d.classList.contains("seized")||(y=!1)}),y&&(c.remove(),T(),s++,scoreDisplay.innerText=s)}),q()}function q(){clearInterval(l),l=setInterval(()=>{L("top",1)},i);const r=Object.entries(f),c=Math.floor(Math.random()*r.length);g.type=r[c][0],g.top=0,g.left=4,g.direction=0,v={...g},w()}function E(r){return!(!r||r.classList.contains("seized"))}function L(r,c){v[r]+=c,w(r)}function N(){v.direction===3?v.direction=0:v.direction+=1,w()}function a(){clearInterval(l),l=setInterval(()=>{L("top",1)},10)}document.addEventListener("keydown",r=>{switch(r.keyCode){case 39:L("left",1);break;case 37:L("left",-1);break;case 40:L("top",1);break;case 32:a();break;case 38:N();break}});function M(){document.getElementById("bgMusic").play()}x()}P();C();R();
